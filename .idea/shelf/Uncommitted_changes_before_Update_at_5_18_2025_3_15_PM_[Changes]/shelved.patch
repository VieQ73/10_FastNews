Index: app/src/main/java/com/example/news/adapters/NewsAdapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.news.adapters;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.icu.text.SimpleDateFormat;\r\nimport android.os.Build;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.news.NewsModel;\r\nimport com.example.news.R;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.text.ParseException;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.Locale;\r\n\r\npublic class NewsAdapter extends RecyclerView.Adapter<NewsAdapter.NewsViewHolder> {\r\n\r\n    ArrayList<NewsModel.Articles> articleList;\r\n    Context context;\r\n\r\n    String fragment;\r\n\r\n    DbHelper db;\r\n    OverlayVisibilityListener listener;\r\n\r\n    public NewsAdapter(ArrayList<NewsModel.Articles> articleList, Context context, String fragment) {\r\n        this.articleList = articleList;\r\n        this.context = context;\r\n        this.fragment = fragment;\r\n    }\r\n\r\n    public NewsAdapter(ArrayList<NewsModel.Articles> articleList, Context context, String fragment, DbHelper db, OverlayVisibilityListener listener) {\r\n        this.articleList = articleList;\r\n        this.context = context;\r\n        this.fragment = fragment;\r\n        this.db = db;\r\n        this.listener = listener;\r\n    }\r\n\r\n    public interface OverlayVisibilityListener {\r\n        void showOverlay();\r\n        void hideOverlay();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public NewsViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.news_item_layout, parent, false);\r\n        return new NewsViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull NewsViewHolder holder, int position) {\r\n        NewsModel.Articles article = articleList.get(position);\r\n        holder.title.setText(article.getTitle());\r\n        holder.newsSource.setText(article.getSource().getName());\r\n        holder.newsTimeAgo.setText(getTimeAgo(article.getPublishedAt()));\r\n\r\n        Glide.with(context)\r\n                .load(article.getUrlToImage())\r\n                .placeholder(R.drawable.news_placeholder_img)\r\n                .into(holder.image);\r\n\r\n        holder.itemView.setOnClickListener(v -> {\r\n            // TODO: Hiển thị chi tiết bài báo\r\n        });\r\n\r\n        holder.shareButton.setOnClickListener(v -> {\r\n            Intent shareIntent = new Intent(Intent.ACTION_SEND);\r\n            shareIntent.setType(\"text/plain\");\r\n            String shareText = article.getTitle() + \"\\n\" + article.getUrl();\r\n            shareIntent.putExtra(Intent.EXTRA_TEXT, shareText);\r\n            context.startActivity(Intent.createChooser(shareIntent, \"Chia sẻ tin tức\"));\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return articleList != null ? articleList.size() : 0;\r\n    }\r\n\r\n    public static class NewsViewHolder extends RecyclerView.ViewHolder {\r\n        TextView title, newsSource, newsTimeAgo;\r\n        ImageView image, shareButton;\r\n\r\n        public NewsViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            title = itemView.findViewById(R.id.news_title);\r\n            newsSource = itemView.findViewById(R.id.newsSource);\r\n            newsTimeAgo = itemView.findViewById(R.id.newsTimeAgo);\r\n            image = itemView.findViewById(R.id.news_image);\r\n            shareButton = itemView.findViewById(R.id.share_button);\r\n        }\r\n    }\r\n\r\n    // Chuyển đổi thời gian đăng sang định dạng \"x phút trước\"\r\n    public static String getTimeAgo(String dateTimeString) {\r\n        try {\r\n            SimpleDateFormat sdf = null;\r\n            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.N) {\r\n                sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss'Z'\", Locale.getDefault());\r\n\r\n                Date date = sdf.parse(dateTimeString);\r\n                long diff = System.currentTimeMillis() - date.getTime();\r\n\r\n                long seconds = diff / 1000;\r\n                if (seconds < 60) return \"Vài giây trước\";\r\n                if (seconds < 3600) return (seconds / 60) + \" phút trước\";\r\n                if (seconds < 86400) return (seconds / 3600) + \" giờ trước\";\r\n                return (seconds / 86400) + \" ngày trước\";\r\n            }\r\n        } catch (ParseException e) {\r\n            return dateTimeString;\r\n        }\r\n\r\n        return dateTimeString;\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/news/adapters/NewsAdapter.java b/app/src/main/java/com/example/news/adapters/NewsAdapter.java
--- a/app/src/main/java/com/example/news/adapters/NewsAdapter.java	(revision ab86a97b2061b82c6b136194ba6a4013ac1637d5)
+++ b/app/src/main/java/com/example/news/adapters/NewsAdapter.java	(date 1747556060351)
@@ -66,7 +66,7 @@
         holder.newsSource.setText(article.getSource().getName());
         holder.newsTimeAgo.setText(getTimeAgo(article.getPublishedAt()));
 
-        Glide.with(context)
+        Glide.with(holder.itemView.getContext())
                 .load(article.getUrlToImage())
                 .placeholder(R.drawable.news_placeholder_img)
                 .into(holder.image);
